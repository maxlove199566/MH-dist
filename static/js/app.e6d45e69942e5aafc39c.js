webpackJsonp([1],{"48jT":function(t,s){},"6+jk":function(t,s){},"8gFh":function(t,s){},EZzJ:function(t,s){},HMTT:function(t,s){},J6vE:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("7+uW"),i=e("mtWM"),r=e.n(i),o=e("DWlv"),n=e.n(o),c=e("ZZvs"),l=e.n(c),d=(e("SYh3"),e("K3J8"),e("7QTg")),u=e.n(d),v=(e("wNQb"),{render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]});var m=e("VU/8")({name:"App"},v,!1,function(t){e("HMTT")},null,null).exports,p=e("/ocq"),_={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar"},[s("div",{staticClass:"sidebar-sticky"},[this._m(0),this._v(" "),s("ul",{staticClass:"nav flex-column mb-2"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[this._v("產品列表")])],1)]),this._v(" "),this._m(1),this._v(" "),s("ul",{staticClass:"nav flex-column mb-2"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/dashboard/customer_orders"}},[this._v("模擬訂單")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[s("span",[this._v("管理員")]),this._v(" "),s("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[s("span",{attrs:{"data-feather":"plus-circle"}})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[s("span",[this._v("模擬功能")]),this._v(" "),s("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[s("span",{attrs:{"data-feather":"plus-circle"}})])])}]},h={name:"Navbar",methods:{signout:function(){var t=this,s=Object({NODE_ENV:"production",APIPATN:"https://vue-course-api.hexschool.io",CUSTOMPATH:"maxlove19972"}).APIPATH+"/logout";this.$http.post(s).then(function(s){console.log(s.data),s.data.success&&t.$router.push("/signin")})}}},g={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("nav",{staticClass:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},[e("a",{staticClass:"navbar-brand col-sm-3 col-md-2 mr-0",attrs:{href:"#"}},[t._v("Company name")]),t._v(" "),e("input",{staticClass:"form-control form-control-dark w-100",attrs:{type:"text",placeholder:"Search","aria-label":"Search"}}),t._v(" "),e("ul",{staticClass:"navbar-nav px-3"},[e("li",{staticClass:"nav-item text-nowrap"},[e("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.signout(s)}}},[t._v("Sign out")])])])])])},staticRenderFns:[]},f={components:{Sidebar:e("VU/8")(null,_,!1,null,null,null).exports,Navbar:e("VU/8")(h,g,!1,null,null,null).exports}},C={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("Navbar"),this._v(" "),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("sidebar"),this._v(" "),s("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-4",attrs:{role:"main"}},[s("router-view")],1)],1)])],1)},staticRenderFns:[]},b=e("VU/8")(f,C,!1,null,null,null).exports,x={name:"HelloWorld",data:function(){return{user:{username:"",password:""}}},methods:{signin:function(){var t=this;this.$http.post("https://vue-course-api.hexschool.io/admin/signin",t.user).then(function(s){console.log(s.data),s.data.success&&t.$router.push("/admin/products")})}}},w={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("main",{staticClass:"form-signin"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.signin(s)}}},[e("h1",{staticClass:"h3 mb-3 fw-normal"},[t._v("請登入")]),t._v(" "),e("label",{staticClass:"visually-hidden",attrs:{for:"inputEmail"}},[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(s){s.target.composing||t.$set(t.user,"username",s.target.value)}}}),t._v(" "),e("label",{staticClass:"visually-hidden",attrs:{for:"inputPassword"}},[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(s){s.target.composing||t.$set(t.user,"password",s.target.value)}}}),t._v(" "),t._m(0),t._v(" "),e("button",{staticClass:"w-100 btn btn-lg btn-primary",attrs:{type:"submit"}},[t._v("Sign in")]),t._v(" "),e("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2017-2020")])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"checkbox mb-3"},[s("label",[s("input",{attrs:{type:"checkbox",value:"remember-me"}}),this._v(" Remember me\n        ")])])}]};var y=e("VU/8")(x,w,!1,function(t){e("ynKH")},"data-v-41272135",null).exports,P=e("woOf"),k=e.n(P),L=e("7t+N"),E=e.n(L),N={data:function(){return{products:[],tempProduct:{},isNew:!1,isLoading:!1}},methods:{updateProduct:function(){var t="https://vue-course-api.hexschool.io/api/maxlove19972/admin/product",s="post",e=this;e.isNew||(t="https://vue-course-api.hexschool.io/api/maxlove19972/admin/product/"+e.tempProduct.id,s="put"),this.$http[s](t,{data:e.tempProduct}).then(function(t){console.log(t.data),t.data.success?(E()("#productModal").modal("hide"),e.getProducts()):(E()("#productModal").modal("hide"),e.getProducts(),console.log("新增失敗"))})},openModal:function(t,s){t?(this.tempProduct={},this.isNew=!0):(this.tempProduct=k()({},s),this.isNew=!1),E()("#productModal").modal("show")},getProducts:function(){var t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/maxlove19972/products").then(function(s){console.log(s.data),t.isLoading=!1,t.products=s.data.products})},productdelete:function(t){var s="https://vue-course-api.hexschool.io/api/maxlove19972/admin/product/"+e.tempProduct.id,e=this;this.$http.delete(s,{data:e.tempProduct}).then(function(t){console.log(t.data)})}},created:function(){this.getProducts()}},O={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"vld-parent"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}})],1),t._v(" "),e("div",{staticClass:"text-right mt-4"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(s){return t.openModal(!0)}}},[t._v("建立新產品")])]),t._v(" "),e("table",{staticClass:"table mt-4"},[t._m(0),t._v(" "),e("tbody",t._l(t.products,function(s){return e("tr",{key:s.id},[e("td",[t._v(t._s(s.category))]),t._v(" "),e("td",[t._v(t._s(s.title))]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(s.origin_price))]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(s.price))]),t._v(" "),e("td",[s.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",[t._v("未啟用")])]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.openModal(!1,s)}}},[t._v("編輯")]),t._v(" "),e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.productdelete(s)}}},[t._v("刪除")])])])}),0)]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(1),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(s){s.target.composing||t.$set(t.tempProduct,"imageUrl",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(2),t._v(" "),e("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"}})]),t._v(" "),e("img",{staticClass:"img-fluid",attrs:{img:"https://images.unsplash.com/photo-14 83985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80",alt:"",src:t.tempProduct.imageUrl}})]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(s){s.target.composing||t.$set(t.tempProduct,"title",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"category"}},[t._v("分類")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(s){s.target.composing||t.$set(t.tempProduct,"category",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("單位")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(s){s.target.composing||t.$set(t.tempProduct,"unit",s.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("原價")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(s){s.target.composing||t.$set(t.tempProduct,"origin_price",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("售價")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(s){s.target.composing||t.$set(t.tempProduct,"price",s.target.value)}}})])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("產品描述")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(s){s.target.composing||t.$set(t.tempProduct,"description",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("說明內容")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(s){s.target.composing||t.$set(t.tempProduct,"content",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,1)},on:{change:function(s){var e=t.tempProduct.is_enabled,a=s.target,i=a.checked?1:0;if(Array.isArray(e)){var r=t._i(e,null);a.checked?r<0&&t.$set(t.tempProduct,"is_enabled",e.concat([null])):r>-1&&t.$set(t.tempProduct,"is_enabled",e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.tempProduct,"is_enabled",i)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\n                    是否啟用\n                    ")])])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v("確認")])])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(3),t._v(" "),e("div",{staticClass:"modal-body"},[t._v("\n            是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 商品(刪除後將無法恢復)。\n        ")]),t._v(" "),t._m(4)])])])])},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",{attrs:{width:"120"}},[t._v("分類")]),t._v(" "),e("th",[t._v("產品名稱")]),t._v(" "),e("th",{attrs:{width:"120"}},[t._v("原價")]),t._v(" "),e("th",{attrs:{width:"120"}},[t._v("售價")]),t._v(" "),e("th",{attrs:{width:"100"}},[t._v("是否啟用")]),t._v(" "),e("th",{attrs:{width:"120"}},[t._v("編輯")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header bg-dark text-white"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[s("span",[this._v("新增產品")])]),this._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("label",{attrs:{for:"customFile"}},[this._v("或 上傳圖片\n                    "),s("i",{staticClass:"fas fa-spinner fa-spin"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header bg-danger text-white"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[s("span",[this._v("刪除產品")])]),this._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("取消")]),this._v(" "),s("button",{staticClass:"btn btn-danger",attrs:{type:"button"}},[this._v("確認刪除")])])}]},I=e("VU/8")(N,O,!1,null,null,null).exports,M={data:function(){return{products:[],product:{},tempProduct:{},isNew:!1,isLoading:!1,cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getProducts:function(){var t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/maxlove19972/products?page=:page").then(function(s){console.log(s.data),t.products=s.data.products,t.isLoading=!1})},getProduct:function(t){var s=this,e="https://vue-course-api.hexschool.io/api/maxlove19972/product/"+t;s.isLoading=!0,this.$http.get(e).then(function(t){s.product=t.data.product,E()("#productModal").modal("show"),console.log(t),s.isLoading=!1})},addtoCart:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this;e.isLoading=!0;var a={product_id:t,qty:s};this.$http.post("https://vue-course-api.hexschool.io/api/maxlove19972/cart",{data:a}).then(function(t){console.log(t),e.isLoading=!1,e.getCart(),E()("#productModal").modal("hide")})},getCart:function(){var t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/maxlove19972/cart").then(function(s){console.log(s.data),t.cart=s.data.data,t.isLoading=!1})},removeCatItem:function(t){var s=this,e="https://vue-course-api.hexschool.io/api/maxlove19972/cart/"+t;s.isLoading=!0,this.$http.delete(e).then(function(){s.getCart(),s.isLoading=!1})},createOrder:function(){var t=this,s=t.form;t.isLoading=!0,this.$http.post("https://vue-course-api.hexschool.io/api/maxlove19972/order",{data:s}).then(function(s){console.log("建立訂單",s),s.data.success&&t.$router.push("/customer_checkout/"+s.data.orderId),t.isLoading=!1})}},created:function(){this.getProducts(),this.getCart()}},S={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("div",{staticClass:"row mt-4"},t._l(t.products,function(s){return e("div",{key:s.id,staticClass:"col-md-4 mb-4"},[e("div",{staticClass:"card border-0 shadow-sm"},[e("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+s.image+")"}}),t._v(" "),e("div",{staticClass:"card-body"},[e("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(s.category))]),t._v(" "),e("h5",{staticClass:"card-title"},[e("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(s.title))])]),t._v(" "),e("p",{staticClass:"card-text"},[t._v(t._s(s.content))]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[s.price?t._e():e("div",{staticClass:"h5"},[t._v(t._s(s.origin_price))]),t._v(" "),s.price?e("del",{staticClass:"h6"},[t._v(t._s(s.origin_price))]):t._e(),t._v(" "),s.price?e("div",{staticClass:"h5"},[t._v(t._s(s.price))]):t._e()])]),t._v(" "),e("div",{staticClass:"card-footer d-flex"},[e("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(e){return t.getProduct(s.id)}}},[e("i",{staticClass:"fas fa-spinner fa-spin"}),t._v("\n                查看更多\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(e){return t.addtoCart(s.id)}}},[e("i",{staticClass:"fas fa-spinner fa-spin"}),t._v("\n                加到購物車\n            ")])])])])}),0),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[e("div",{staticClass:"modal-header bg-dark text-white"}),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("img",{staticClass:"img-fluid",attrs:{src:t.product.image,alt:""}})]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v(t._s(t.product.title))])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"category"}},[t._v(t._s(t.product.category))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("原價:"+t._s(t.product.origin_price))])]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("特價:"+t._s(t.product.price))])])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v(t._s(t.product.description))])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v(t._s(t.product.content))])]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"d-flex justify-content-between align-items-baseline"}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"from-control mt-3",attrs:{name:""},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.product,"num",s.target.multiple?e:e[0])}}},t._l(10,function(s){return e("option",{key:s,domProps:{value:s}},[t._v("\n                                    選購"+t._s(s)+" "+t._s(t.product.unit)+"\n                                ")])}),0)])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"text-muted text-nowrap mr-3"},[t._v("\n                        小計 "),e("strong",[t._v(t._s(t.product.num*t.product.price))]),t._v("元\n                    ")]),t._v(" "),e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(s){return t.addtoCart(t.product.id,t.product.num)}}},[t._v("加入購物車")])])])])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"container  mt-4"},[e("table",{staticClass:"table"},[t._m(1),t._v(" "),e("tbody",t._l(t.cart.carts,function(s){return e("tr",{key:s.id},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeCatItem(s.id)}}},[e("span",{staticClass:"far fa-trash-alt"},[t._v("刪除")])])]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v("\n                            "+t._s(s.product.title)+"\n                            ")]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(s.qty)+"/"+t._s(s.product.unit))]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(s.final_total))])])}),0),t._v(" "),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t.cart.total))])]),t._v(" "),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣價")]),t._v(" "),e("td",{staticClass:"text-right text-success"},[t._v(t._s(t.cart.final_total))])]):t._e()])]),t._v(" "),t._m(2)]),t._v(" "),e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-6",on:{submit:function(s){return s.preventDefault(),t.createOrder(s)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useremail"}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email",required:""},domProps:{value:t.form.user.email},on:{input:function(s){s.target.composing||t.$set(t.form.user,"email",s.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(s){s.target.composing||t.$set(t.form.user,"name",s.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(s){s.target.composing||t.$set(t.form.user,"tel",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(s){s.target.composing||t.$set(t.form.user,"address",s.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"comment"}},[t._v("留言")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(s){s.target.composing||t.$set(t.form,"message",s.target.value)}}})]),t._v(" "),t._m(3)])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content border-0"},[s("div",{staticClass:"modal-header bg-danger text-white"})])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("th"),this._v(" "),s("th",[this._v("品名")]),this._v(" "),s("th",[this._v("數量")]),this._v(" "),s("th",[this._v("單價")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"input-group mb-3 input-group-sm"},[s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"}}),this._v(" "),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"}},[this._v("\n                        套用優惠碼\n                        ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-danger"},[this._v("送出訂單")])])}]},U=e("VU/8")(M,S,!1,null,null,null).exports,V={data:function(){return{isLoading:!1,order:{user:{}},orderId:""}},methods:{getOrder:function(){var t=this,s="https://vue-course-api.hexschool.io/api/maxlove19972/order/"+t.orderId;t.isLoading=!0,this.$http.get(s).then(function(s){t.order=s.data.order,console.log(s),t.isLoading=!1}).catch(function(t){})},payOrder:function(){var t=this,s="https://vue-course-api.hexschool.io/api/maxlove19972/pay/"+t.orderId;t.isLoading=!0,this.$http.post(s).then(function(s){console.log(s),s.data.success&&t.getOrder(),t.isLoading=!1})}},created:function(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}},F={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-6",on:{submit:function(s){return s.preventDefault(),t.payOrder(s)}}},[e("table",{staticClass:"table"},[t._m(0),t._v(" "),e("tbody",t._l(t.order.products,function(s){return e("tr",{key:s.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(s.product.title))]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(s.qty)+"/"+t._s(s.product.unit))]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(s.final_total))])])}),0),t._v(" "),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),t._v(" "),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v("Email")]),t._v(" "),e("td",[t._v(t._s(t.order.user.email))])]),t._v(" "),e("tr",[e("th",[t._v("姓名")]),t._v(" "),e("td",[t._v(t._s(t.order.user.name))])]),t._v(" "),e("tr",[e("th",[t._v("收件人電話")]),t._v(" "),e("td",[t._v(t._s(t.order.user.tel))])]),t._v(" "),e("tr",[e("th",[t._v("收件人地址")]),t._v(" "),e("td",[t._v(t._s(t.order.user.address))])]),t._v(" "),e("tr",[e("th",[t._v("付款狀態")]),t._v(" "),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),t._v(" "),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[t._v("確認付款去")])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("th",[this._v("品名")]),this._v(" "),s("th",[this._v("數量")]),this._v(" "),s("th",[this._v("單價")])])}]},T=e("VU/8")(V,F,!1,null,null,null).exports,R=e("sHmK"),q={name:"navbar",data:function(){return{}},components:{Slide:R.Slide}},j={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"navbar"},[e("div",{staticClass:"logo"},[e("router-link",{attrs:{to:"/"}},[e("img",{attrs:{src:"static\\img\\LogoMH.png",alt:""}})])],1),t._v(" "),t._m(0)]),t._v(" "),e("Slide",{attrs:{right:"",noOverlay:""}},[e("router-link",{attrs:{to:"/"}},[e("img",{attrs:{src:"https://www.monsterhunter.com/world-iceborne/assets/img/common/common/icon_patch.png",height:"40",width:"40"}}),e("span",[t._v("首頁")])]),t._v(" "),e("router-link",{attrs:{to:"/categories"}},[e("img",{attrs:{src:"static\\img\\icon\\20150903.png",alt:"",height:"40",width:"40"}}),e("span",{staticClass:"item_name"},[t._v("補給物資所")])]),t._v(" "),e("router-link",{attrs:{to:"/categories"}},[e("img",{attrs:{src:"static\\img\\icon\\0003520327_B.png",alt:"",height:"40",width:"40"}}),e("span",{staticClass:"item_name"},[t._v("加工屋")])]),t._v(" "),e("router-link",{attrs:{to:"/categories"}},[e("img",{attrs:{src:"static\\img\\icon\\icon_05.png",alt:"",height:"40",width:"40"}}),e("span",{staticClass:"item_name"},[t._v("生態研究所")])]),t._v(" "),e("router-link",{attrs:{to:"/categories"}},[e("img",{attrs:{src:"static\\img\\icon\\PinClipart.com_done-clipart_414278.png",alt:"",height:"40",width:"40"}}),e("span",{staticClass:"item_name"},[t._v("用餐地區")])])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"title-1"},[s("span",{staticClass:"title-2"},[this._v("歡迎來到獵人們的集會所")])])}]};var A=e("VU/8")(q,j,!1,function(t){e("J6vE")},"data-v-6ad00d5a",null).exports,H={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("swiper",{ref:"mySwiper",staticClass:"swiper",attrs:{options:t.swiperOptions}},[e("swiper-slide",[e("div",{staticClass:"slide slide-1"})]),t._v(" "),e("swiper-slide",[e("div",{staticClass:"slide slide-2"})]),t._v(" "),e("swiper-slide",[e("div",{staticClass:"slide slide-3"})]),t._v(" "),e("swiper-slide",[e("div",{staticClass:"slide slide-4"})]),t._v(" "),e("swiper-slide",[e("img",{attrs:{src:"https://www.monsterhunter.com/world-iceborne/assets/img/common/media/update_02.jpg"}})]),t._v(" "),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),t._v(" "),e("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),t._v(" "),e("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],1)},staticRenderFns:[]};var D=e("VU/8")({name:"carrousel",data:function(){return{swiperOptions:{slidesPerView:1,spaceBetween:30,loop:!0,speed:300,autoplay:{delay:3e3},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}}},H,!1,function(t){e("8gFh")},"data-v-3edbe423",null).exports,B=e("VU/8")(null,null,!1,null,null,null).exports,W={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("footer",[e("p",{staticClass:"background"}),t._v(" "),e("div",{staticClass:"bottom",staticStyle:{"text-align":"center"}},[e("a",{staticStyle:{"background-color":"rgb(255, 255, 255,0)"},attrs:{href:"#"}},[e("img",{staticStyle:{height:"44px",width:"auto",display:"inline-block"},attrs:{src:"https://shoplineimg.com/assets/footer/social_facebook.png"}})]),t._v("  \n        "),e("a",{staticStyle:{"background-color":"rgb(255, 255, 255,0)"},attrs:{href:"#"}},[e("img",{staticStyle:{height:"44px",width:"auto",display:"inline-block"},attrs:{src:"https://shoplineimg.com/assets/footer/social_twitter.png"}})]),t._v("  \n        "),e("a",{staticStyle:{"background-color":"rgb(255, 255, 255,0)"},attrs:{href:"#"}},[e("img",{staticStyle:{height:"44px",width:"auto",display:"inline-block"},attrs:{src:"https://i.imgur.com/0WQeHV1.png"}})]),t._v("  \n        "),e("a",{staticStyle:{"background-color":"rgb(255, 255, 255,0)"},attrs:{href:"#"}},[e("img",{staticStyle:{height:"44px",width:"auto",display:"inline-block"},attrs:{src:"https://shoplineimg.com/assets/footer/social_instagram.png"}})]),t._v(" "),e("div",{staticClass:"bottominfo"},[e("div",{staticClass:"info"},[e("p",[t._v("實體店面：新大陸之月辰據點")]),t._v(" "),e("p",[t._v("營業時間：00:00-24:00")])]),t._v(" "),e("div",[e("p",[t._v("作者：max    "),e("br"),e("a",{attrs:{href:"#",target:"_blank"}},[t._v("Github")])]),t._v(" "),e("p",[t._v("純屬練習作品｜"),e("a",{attrs:{href:"https://www.monsterhunter.com/world-iceborne/",target:"_blank"}},[t._v("圖片來源：https://www.monsterhunter.com/world-iceborne/")])])])])])])}]};var J=e("VU/8")({name:"bottom"},W,!1,function(t){e("uxXF")},"data-v-52cac658",null).exports,Q={name:"categories",data:function(){return{cart:{},products:[],categories:"所有商品",isLoading:!1}},components:{navbar:A,slide:D,car:B,bottom:J},methods:{getProducts:function(){var t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/maxlove19972/products").then(function(s){console.log(s.data),t.isLoading=!1,t.products=s.data.products})},getCart:function(){var t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/maxlove19972/cart").then(function(s){console.log(s.data),t.cart=s.data.data,t.isLoading=!1})},addtoCart:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this;e.isLoading=!0;var a={product_id:t,qty:s};this.$http.post("https://vue-course-api.hexschool.io/api/maxlove19972/cart",{data:a}).then(function(t){console.log(t),e.isLoading=!1,e.getCart()})}},created:function(){this.getProducts(),this.getCart()}},K={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"topbgimg"},[e("div",{staticClass:"topSlide"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("navbar"),t._v(" "),e("slide"),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"products_box"},[t._m(0),t._v(" "),e("div",{staticClass:"product_list"},[e("div",{staticClass:"product_titel"}),t._v(" "),e("div",{staticClass:"list"},t._l(t.products,function(s){return e("div",{key:s.id,staticClass:"item"},[e("div",{staticClass:"bgimg"},[e("img",{attrs:{src:s.image,alt:""}})]),t._v(" "),e("div",{staticClass:"card-body"},[e("span",{staticClass:"category"},[t._v(t._s(s.category))]),t._v(" "),e("p",{staticClass:"title"},[t._v(t._s(s.title))]),t._v(" "),e("div",{staticClass:"sale_price"},[t._v("TWD   "+t._s(s.price)+"元")]),t._v(" "),e("div",{staticClass:"cardaction"},[e("button",{attrs:{type:"button"}},[e("router-link",{attrs:{to:"/"}},[t._v("查看更多")])],1),t._v(" "),e("button",{attrs:{type:"button"},on:{click:function(e){return t.addtoCart(s.id)}}},[t._v("加到購物車")])])])])}),0)])]),t._v(" "),e("bottom"),t._v(" "),e("router-link",{attrs:{to:"/checkout"}},[e("div",{staticClass:"carimg"},[e("p",[t._v(t._s(t.cart.carts.length))]),t._v(" "),e("span",[t._v("購物車")])])])],1)])},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"categories"},[e("div",{staticClass:"items"},[e("div",{staticClass:"item"},[e("img",{attrs:{src:"static\\img\\icon\\PinClipart.com_clip-art-hunters_2216272.png"}}),t._v(" "),e("p",{staticClass:"item_name"},[t._v("所有商品")])]),t._v(" "),e("div",{staticClass:"item"},[e("img",{attrs:{src:"static\\img\\icon\\20150903.png",alt:""}}),t._v(" "),e("p",{staticClass:"item_name"},[t._v("補給物資所")])]),t._v(" "),e("div",{staticClass:"item"},[e("img",{attrs:{src:"static\\img\\icon\\0003520327_B.png",alt:""}}),t._v(" "),e("p",{staticClass:"item_name"},[t._v("加工屋")])]),t._v(" "),e("div",{staticClass:"item"},[e("img",{attrs:{src:"static\\img\\icon\\icon_05.png",alt:""}}),t._v(" "),e("p",{staticClass:"item_name"},[t._v("生態研究所")])]),t._v(" "),e("div",{staticClass:"item"},[e("img",{attrs:{src:"static\\img\\icon\\PinClipart.com_done-clipart_414278.png",alt:""}}),t._v(" "),e("p",{staticClass:"item_name"},[t._v("用餐地區")])])])])}]};var Z=e("VU/8")(Q,K,!1,function(t){e("iTuE")},"data-v-7f8ba788",null).exports,z={data:function(){return{products:[],product:{},tempProduct:{},isNew:!1,isLoading:!1,cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""}}},components:{navbar:A,car:B,bottom:J},methods:{getProducts:function(){var t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/maxlove19972/products?page=:page").then(function(s){console.log(s.data),t.products=s.data.products,t.isLoading=!1})},getProduct:function(t){var s=this,e="https://vue-course-api.hexschool.io/api/maxlove19972/product/"+t;s.isLoading=!0,this.$http.get(e).then(function(t){s.product=t.data.product,$("#productModal").modal("show"),console.log(t),s.isLoading=!1})},getCart:function(){var t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/maxlove19972/cart").then(function(s){console.log(s.data),t.cart=s.data.data,t.isLoading=!1})},removeCatItem:function(t){var s=this,e="https://vue-course-api.hexschool.io/api/maxlove19972/cart/"+t;s.isLoading=!0,this.$http.delete(e).then(function(){s.getCart(),s.isLoading=!1})},createOrder:function(){var t=this,s=t.form;t.isLoading=!0,this.$http.post("https://vue-course-api.hexschool.io/api/maxlove19972/order",{data:s}).then(function(s){console.log("建立訂單",s),s.data.success&&t.$router.push("/comfirm/"+s.data.orderId),t.isLoading=!1})}},created:function(){this.getCart()}},X={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"bgimg"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("navbar"),t._v(" "),e("div",{staticClass:"checkout"},[t._m(0),t._v(" "),t.cart.carts.length?e("div",{staticClass:"cartlist"},[e("table",[t._m(1),t._v(" "),e("tbody",t._l(t.cart.carts,function(s){return e("tr",{key:s.id},[e("td",[t._v("\n                            "+t._s(s.product.title)+"\n                        ")]),t._v(" "),e("td",[t._v("\n                            "+t._s(s.qty)+"/"+t._s(s.product.unit)+"\n                        ")]),t._v(" "),e("td",[e("p",[t._v("NT."+t._s(s.total))])]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeCatItem(s.id)}}},[e("p",{staticClass:"far fa-trash-alt"},[t._v("刪除")])])])])}),0),t._v(" "),e("tfoot",[e("tr",{staticClass:"total"},[e("td",{attrs:{colspan:"2"}},[t._v("總計")]),t._v(" "),e("td",{attrs:{colspan:"2"}},[e("p",[t._v("NT."+t._s(t.cart.total))])])])])])]):e("p",{staticClass:"empty"},[t._v("購物車沒有東西哦！")]),t._v(" "),t._m(2),t._v(" "),e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-6",on:{submit:function(s){return s.preventDefault(),t.createOrder(s)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useremail"}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email",required:""},domProps:{value:t.form.user.email},on:{input:function(s){s.target.composing||t.$set(t.form.user,"email",s.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(s){s.target.composing||t.$set(t.form.user,"name",s.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(s){s.target.composing||t.$set(t.form.user,"tel",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(s){s.target.composing||t.$set(t.form.user,"address",s.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"comment"}},[t._v("留言")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(s){s.target.composing||t.$set(t.form,"message",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger",on:{click:t.createOrder}},[t._v("送出訂單")])])])]),t._v(" "),e("bottom")],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"title"},[s("img",{attrs:{src:"static\\img\\icon\\PinClipart.com_clip-art-hunters_2216272.png",alt:""}}),this._v(" "),s("p",[this._v("購物車")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("tr",[s("td",{staticClass:"item_title"},[this._v("品名")]),this._v(" "),s("td",{staticClass:"item_count"},[this._v("數量")]),this._v(" "),s("td",{staticClass:"item_price"},[this._v("單價")]),this._v(" "),s("td",{staticClass:"item_delete"},[this._v("刪除")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"title"},[s("img",{attrs:{src:"static\\img\\icon\\ItemIcon058e.png",alt:""}}),this._v(" "),s("p",[this._v("帳單資訊")])])}]};var Y=e("VU/8")(z,X,!1,function(t){e("48jT")},"data-v-2c47d346",null).exports,G={name:"product",data:function(){return{cart:{},isLoading:!1,products:[],product:{},swiperOptions:{slidesPerView:4,spaceBetween:10,loop:!0,speed:300,isLoading:!1,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{480:{slidesPerView:1,spaceBetween:20},640:{slidesPerView:2,spaceBetween:30},800:{slidesPerView:3,spaceBetween:30}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}},methods:{getProducts:function(){var t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/maxlove19972/products").then(function(s){console.log(s.data),t.isLoading=!1,t.products=s.data.products})},addtoCart:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this;e.isLoading=!0;var a={product_id:t,qty:s};this.$http.post("https://vue-course-api.hexschool.io/api/maxlove19972/cart",{data:a}).then(function(t){console.log(t),e.isLoading=!1,e.getCart()})},getCart:function(){var t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/maxlove19972/cart").then(function(s){console.log(s.data),t.cart=s.data.data,t.isLoading=!1})}},created:function(){this.getProducts(),this.getCart()}},tt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("p",{staticClass:"categories_titel"},[t._v("設施分類")]),t._v(" "),e("div",{staticClass:"categories"},[e("div",{staticClass:"items"},[e("router-link",{staticClass:"item",attrs:{to:"/categories"}},[e("img",{attrs:{src:"static\\img\\icon\\20150903.png",alt:""}}),e("p",{staticClass:"item_name"},[t._v("補給物資所")])]),t._v(" "),e("router-link",{staticClass:"item",attrs:{to:"/categories"}},[e("img",{attrs:{src:"static\\img\\icon\\0003520327_B.png",alt:""}}),e("p",{staticClass:"item_name"},[t._v("加工屋")])]),t._v(" "),e("router-link",{staticClass:"item",attrs:{to:"/categories"}},[e("img",{attrs:{src:"static\\img\\icon\\icon_05.png",alt:""}}),e("p",{staticClass:"item_name"},[t._v("生態研究所")])]),t._v(" "),e("router-link",{staticClass:"item",attrs:{to:"/categories"}},[e("img",{attrs:{src:"static\\img\\icon\\PinClipart.com_done-clipart_414278.png",alt:""}}),e("p",{staticClass:"item_name"},[t._v("用餐地區")])])],1)]),t._v(" "),e("p",{staticClass:"categories_titel"},[t._v("最新商品")]),t._v(" "),e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("div",{staticClass:"list"},[e("swiper",{ref:"mySwiper",staticClass:"swiper",attrs:{options:t.swiperOptions}},[t._l(t.products,function(s){return e("swiper-slide",{key:s.id},[e("div",{staticClass:"categories"},[t._v(t._s(s.category))]),t._v(" "),e("img",{attrs:{src:s.image,alt:""}}),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(s.title))]),t._v(" "),e("p",{staticClass:"intro"},[t._v(t._s(s.description))]),t._v(" "),e("div",{staticClass:"price"},[e("div",{staticClass:"onsale_price"},[t._v("TWD   "+t._s(s.price)+"元")]),t._v(" "),e("div",{staticClass:"ori_price"},[t._v("原價"+t._s(s.origin_price)+"元")])]),t._v(" "),e("div",{staticClass:"more"},[e("div",{staticClass:"read_more"},[e("router-link",{attrs:{to:"`/`"}},[e("span",[t._v("詳細介紹")])])],1),t._v(" "),e("div",{staticClass:"add_cart",on:{click:function(e){return t.addtoCart(s.id)}}},[t._v("加入購物車")])])])}),t._v(" "),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),t._v(" "),e("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),t._v(" "),e("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2)],1),t._v(" "),e("router-link",{attrs:{to:"/checkout"}},[e("div",{staticClass:"carimg"},[e("p",[t._v(t._s(t.cart.carts.length))]),t._v(" "),e("span",[t._v("購物車")])])])],1)},staticRenderFns:[]};var st={data:function(){return{}},name:"Home",components:{navbar:A,slide:D,product:e("VU/8")(G,tt,!1,function(t){e("w40U")},"data-v-1e668cdb",null).exports,car:B,bottom:J}},et={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"bgimg"},[s("div",{staticClass:"topSlide"},[s("navbar"),this._v(" "),s("slide"),this._v(" "),s("br"),this._v(" "),s("product"),this._v(" "),s("car"),this._v(" "),s("bottom")],1)])},staticRenderFns:[]};var at=e("VU/8")(st,et,!1,function(t){e("EZzJ")},"data-v-0b46b5a3",null).exports,it={name:"custom_order",data:function(){return{isLoading:!1,orderId:"",order:{user:{}}}},components:{bottom:J,navbar:A},methods:{getOrder:function(){var t=this,s="https://vue-course-api.hexschool.io/api/maxlove19972/order/"+t.orderId;t.isLoading=!0,this.$http.get(s).then(function(s){t.order=s.data.order,console.log(s),t.isLoading=!1}).catch(function(t){})},payOrder:function(){var t=this,s="https://vue-course-api.hexschool.io/api/maxlove19972/pay/"+t.orderId;t.isLoading=!0,this.$http.post(s).then(function(s){console.log(s),s.data.success&&t.getOrder(),t.isLoading=!1})}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},rt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"bgimg"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("navbar"),t._v(" "),e("div",{staticClass:"checkout"},[e("div",{staticClass:"title"},[t.order.is_paid?e("p",[t._v("付款完成，感謝您的購買！")]):e("p",[e("img",{attrs:{src:"static\\img\\icon\\PinClipart.com_clip-art-hunters_2216272.png",alt:""}}),t._v("確認訂單")])]),t._v(" "),e("form",{on:{submit:function(s){return s.preventDefault(),t.payOrder(s)}}},[t.order.is_paid?t._e():e("table",{staticClass:"mt-3 col-md-12"},[t._m(0),t._v(" "),e("tbody",t._l(t.order.products,function(s){return e("tr",{key:s.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(s.product.title))]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(s.qty)+"/"+t._s(s.product.unit))]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(s.final_total))])])}),0),t._v(" "),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),t._v(" "),e("div",{staticClass:"title"},[t.order.is_paid?t._e():e("p",[e("img",{attrs:{src:"static\\img\\icon\\ItemIcon058e.png",alt:""}}),t._v("訂單地址")])]),t._v(" "),e("table",[e("tbody",[e("tr",[e("td",{attrs:{widtd:"10%"}},[t._v("Email")]),t._v(" "),e("td",[t._v(t._s(t.order.user.email))])]),t._v(" "),e("tr",[e("td",[t._v("姓名")]),t._v(" "),e("td",[t._v(t._s(t.order.user.name))])]),t._v(" "),e("tr",[e("td",[t._v("收件人電話:")]),t._v(" "),e("td",[t._v(t._s(t.order.user.tel))])]),t._v(" "),e("tr",[e("td",[t._v("收件人地址:")]),t._v(" "),e("td",[t._v(t._s(t.order.user.address))])]),t._v(" "),e("tr",[e("td",[t._v("付款狀態")]),t._v(" "),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),t._v(" "),!1===t.order.is_paid?e("div",{staticClass:"text-center"},[e("button",[t._v("確認付款去")])]):t._e()]),t._v(" "),e("bottom")],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("th",{staticClass:"item_title"},[this._v("品名")]),this._v(" "),s("th",{staticClass:"item_count"},[this._v("數量")]),this._v(" "),s("th",{staticClass:"item_price"},[this._v("單價")])])}]};var ot=e("VU/8")(it,rt,!1,function(t){e("6+jk")},"data-v-e941a3e0",null).exports;a.a.use(p.a);var nt=new p.a({routes:[{path:"*",redirect:"/"},{path:"/",name:"Home",component:at},{path:"/categories",name:"Categories",component:Z},{path:"/checkout",name:"Checkout",component:Y},{path:"/comfirm/:orderId",name:"Comfirm",component:ot},{path:"/login",name:"Login",component:y},{path:"/admin",name:"Dashboard",component:b,children:[{path:"products",name:"Products",component:I,meta:{requiresAuth:!0}}]},{path:"/dashboard",name:"Dashboard",component:b,children:[{path:"customer_orders",name:"CustomerOrders",component:U},{path:"customer_checkout/:orderId",name:"CustomerCheckout",component:T}]}]});a.a.config.productionTip=!1,a.a.use(n.a,r.a),a.a.component("Loading",l.a),a.a.use(u.a),r.a.defaults.withCredentials=!0,new a.a({el:"#app",router:nt,components:{App:m},template:"<App/>"}),nt.beforeEach(function(t,s,e){if(console.log("to",t,"from",s,"next",e),t.meta.requiresAuth){console.log("請驗證");r.a.post("https://vue-course-api.hexschool.io/api/user/check").then(function(t){console.log(t.data),t.data.success?e():e({path:"/login"})})}else e()})},SYh3:function(t,s){},iTuE:function(t,s){},uxXF:function(t,s){},w40U:function(t,s){},wNQb:function(t,s){},ynKH:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.e6d45e69942e5aafc39c.js.map